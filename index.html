<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุฌุฒ ููุนุฏ ูู ุนูุงุฏุฉ ุงูุฃุทูุงู</title>
    <!-- ุชุถููู Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ุชุถููู ุฃููููุงุช Lucide React for modern icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* ุชุฎุตูุต ุฎุท Inter */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* ููู ุฎูููุฉ ูุงุชุญ */
            display: flex; /* ูุถูุงู ุชูุฑูุฒ ุงููุญุชูู ูุงูุชุฐููู */
            flex-direction: column;
            min-height: 100vh;
        }
        /* ุชุตููู ุญูู ุงูุชุงุฑูุฎ ููุชูุงูู ูุน ุงููุบุฉ ุงูุนุฑุจูุฉ */
        input[type="date"]::-webkit-inner-spin-button,
        input[type="date"]::-webkit-calendar-picker-indicator {
            opacity: 1;
            cursor: pointer;
            filter: invert(0.5); /* ูุฌุนู ุงูุฃููููุฉ ูุฑุฆูุฉ ุจุดูู ุฌูุฏ */
        }
        .icon-size {
            width: 20px;
            height: 20px;
            display: inline-block;
        }
        /* ุชุตููู ุงููุงูุฐุฉ ุงูููุจุซูุฉ (Modal) */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 50;
        }
        /* ูุถูุงู ุชูุณูุท ูุญุชูู ุงูุญุฌุฒ ูุฌุนูู ูุฑูุงู */
        #main-content-wrapper {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem; /* padding: p-4 md:p-8 */
        }
        /* ุชุญุณูู ูุธูุฑ ุญูู ุงูุชุงุฑูุฎ ูู ุงููุถุน ุงูุฏุงูู */
        input[type="date"] {
            color-scheme: light; /* ุฅุฌุจุงุฑ ูุงุฌูุฉ ุงูุชุงุฑูุฎ ุนูู ุฃู ุชููู ูุงุชุญุฉ */
        }
    </style>
</head>
<body>
    <div id="main-content-wrapper">
        <div id="booking-container" class="w-full max-w-2xl bg-white shadow-2xl rounded-xl p-6 md:p-10 border border-blue-100/50">
            
            <!-- ุชูุจูู ูุธุงู ุชุญุช ุงูุชุฌุฑุจุฉ -->
            <div class="p-3 bg-yellow-100 border border-yellow-300 text-yellow-800 rounded-lg text-sm mb-6 text-center font-medium">
                <p>ููุงุญุธุฉ: ูุฐุง ูุธุงู ุญุฌุฒ ุชุญุช ุงูุชุฌุฑุจุฉ.</p>
            </div>

            <!-- ุนููุงู ุงูุชุทุจูู -->
            <header class="text-center mb-8">
                <div class="flex items-center justify-center mb-3 text-blue-600">
                    <i data-lucide="baby" class="icon-size mr-2"></i>
                    <h1 class="text-3xl font-extrabold text-blue-700">ุญุฌุฒ ุนูุงุฏุงุช ุงูุฃุทูุงู</h1>
                </div>
                <p class="text-gray-500 mt-2 text-lg">ูุญู ููุง ูุฎุฏูุฉ ุทููู. ูุฑุฌู ููุก ุงูุชูุงุตูู ูุญุฌุฒ ููุนุฏู.</p>
            </header>

            <!-- ูููุฐุฌ ุงูุญุฌุฒ -->
            <form id="booking-form" class="space-y-6">

                <!-- ุญูู ุงุณู ุงูุทูู -->
                <div>
                    <label for="childName" class="block text-sm font-medium text-gray-700 mb-1 flex items-center">
                        <i data-lucide="smile" class="icon-size ml-2"></i>
                        ุงุณู ุงูุทูู
                    </label>
                    <input type="text" id="childName" name="childName" required
                            class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                            placeholder="ุงุฏุฎู ุงุณู ุงูุทูู">
                </div>

                <!-- ุญูู ุฑูู ุงููุงุชู -->
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1 flex items-center">
                        <i data-lucide="phone" class="icon-size ml-2"></i>
                        ุฑูู ุงููุงุชู
                    </label>
                    <input type="tel" id="phone" name="phone" required
                            class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                            placeholder="ูุซุงู: 05xxxxxxx">
                </div>

                <!-- ุญูู ุงุณู ุงูุทุจูุจ -->
                <div>
                    <label for="doctorName" class="block text-sm font-medium text-gray-700 mb-1 flex items-center">
                        <i data-lucide="user-check" class="icon-size ml-2"></i>
                        ุงุณู ุทุจูุจ ุงูุฃุทูุงู
                    </label>
                    <select id="doctorName" name="doctorName" required
                            class="mt-1 block w-full px-4 py-3 border border-gray-300 bg-white rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                        <option value="" disabled selected>ุงุฎุชุฑ ุทุจูุจุงู</option>
                        <option value="ุฏูุชูุฑ ุนุจุฏ ุงูุบูุงุฑ ุทู">ุฏูุชูุฑ ุนุจุฏ ุงูุบูุงุฑ ุทู</option>
                        <option value="ุฏูุชูุฑ ุนูุงุก ุงูุณุจุงุนู">ุฏูุชูุฑ ุนูุงุก ุงูุณุจุงุนู</option>
                        <option value="ุฏูุชูุฑ ูุญูุฏ ูุณูู">ุฏูุชูุฑ ูุญูุฏ ูุณูู</option>
                    </select>
                </div>

                <!-- ุญูู ุงูุชุงุฑูุฎ ูุฑูู ุงูููู -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="date" class="block text-sm font-medium text-gray-700 mb-1 flex items-center">
                            <i data-lucide="calendar-check" class="icon-size ml-2"></i>
                            ุงูุชุงุฑูุฎ ุงููุทููุจ
                        </label>
                        <input type="date" id="date" name="date" required
                                class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                    
                    <!-- ุญูู ุฑูู ุงูููู ูุน ุฅุดุงุฑุฉ (ุงุฎุชูุงุฑู) -->
                    <div>
                        <label for="fileNumber" class="block text-sm font-medium text-gray-700 mb-1 flex items-center">
                            <i data-lucide="folder-open" class="icon-size ml-2"></i>
                            ุฑูู ุงูููู <span class="text-xs text-gray-400 font-normal mr-1">(ุงุฎุชูุงุฑู)</span>
                        </label>
                        <input type="text" id="fileNumber" name="fileNumber" 
                            class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                            placeholder="ุงุฏุฎู ุฑูู ููู ุงููุฑูุถ">
                    </div>
                </div>

                <!-- ุฑุณุงูุฉ ุงูุชุญุฐูุฑ ูู ุงูุชุงุฑูุฎ ุบูุฑ ุงููุชุงุญ -->
                <div id="date-warning" class="hidden p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg flex items-start text-sm" role="alert">
                    <i data-lucide="alert-triangle" class="icon-size w-5 h-5 ml-2 flex-shrink-0 mt-0.5"></i>
                    <span id="warning-text" class="flex-grow"></span>
                </div>

                <!-- ุฒุฑ ุงูุฅุฑุณุงู -->
                <button type="submit" id="submitBtn"
                        class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300 ease-in-out transform hover:scale-[1.01]"
                        disabled>
                    <span id="button-text">ุชุฃููุฏ ูุญุฌุฒ ุงูููุนุฏ</span>
                    <i data-lucide="send" class="icon-size mr-2"></i>
                </button>
                
                <!-- ุฑุณุงูุฉ ุงูุญุงูุฉ (ุฎุทุฃ) -->
                <div id="status-message" class="mt-4 p-4 rounded-lg text-center hidden" role="alert"></div>

            </form>
        </div>
    </div>

    <!-- ุงููุงูุฐุฉ ุงูููุจุซูุฉ ูููุฌุงุญ (Success Modal) -->
    <div id="success-modal" class="hidden fixed inset-0 flex items-center justify-center modal-backdrop z-50">
        <div id="modal-content" class="bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full mx-4 transform transition-all duration-300 scale-95 opacity-0" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                    <i data-lucide="check-circle" class="icon-size w-6 h-6 text-green-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900" id="modal-title">ุชู ุงูุญุฌุฒ ุจูุฌุงุญ!</h3>
                <div class="mt-4">
                    <p class="text-sm text-gray-500">
                        ุดูุฑุงู ูู! ููุฏ ุชู ุฅุฑุณุงู ุทูุจ ุญุฌุฒ ููุนุฏู. ุณูุชู ุงูุงุชุตุงู ุจู ูุฑูุจุงู ูู ูุจู ุงููุฑูู ุงูุทุจู ูุชุฃููุฏ ุงูููุนุฏ ุงูููุงุฆู.
                    </p>
                    <div class="mt-4 p-2 bg-gray-50 rounded-lg text-xs text-gray-600">
                        <p class="font-medium mb-1">ุจูุงูุงุช ุงูููุนุฏ:</p>
                        <p id="booked-details" class="font-semibold text-sm"></p>
                    </div>
                </div>
            </div>
            <div class="mt-6">
                <button type="button" id="close-modal-btn"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                    ุญุณูุงูุ ูููุช
                </button>
            </div>
        </div>
    </div>
    
    <!-- ุชุฐููู ุงูุตูุญุฉ -->
    <footer class="mt-auto p-4 text-center text-xs text-gray-500 border-t border-gray-200 bg-gray-50">
        ุฌููุน ุงูุญููู ูุญููุธุฉ. ยฉ 2025 ูุณุชุดูู ุชุจุงุฑู ููููุงุฏุฉ ูุงูุฃุทูุงู. | Designed By Shady Yassin
    </footer>

    <!-- ููุฏ JavaScript ููุชุนุงูู ูุน ุงูุฅุฑุณุงู ุฅูู Google Form ูููุทู ุงูุชุญูู -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ุชููุฆุฉ ุฃููููุงุช Lucide
            lucide.createIcons();

            const form = document.getElementById('booking-form');
            const submitBtn = document.getElementById('submitBtn');
            const buttonText = document.getElementById('button-text');
            const statusMessage = document.getElementById('status-message');
            
            const successModal = document.getElementById('success-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const bookedDetails = document.getElementById('booked-details');
            
            const dateInput = document.getElementById('date');
            const doctorNameInput = document.getElementById('doctorName');
            const dateWarning = document.getElementById('date-warning');
            const warningText = document.getElementById('warning-text');

            // ุชุนููู ุงูุญุฏ ุงูุฃุฏูู ูุชุงุฑูุฎ ุงูููู ูููุน ุงูุญุฌุฒ ูู ุงููุงุถู
            const today = new Date().toISOString().split('T')[0];
            dateInput.setAttribute('min', today);


            // ๐ข 1. ุฑุงุจุท ุงูุฅุฑุณุงู ุงูุฎุงุต ุจูููุฐุฌู.
            const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSeWNMGy0Zng3yN1NiBnwj5NFG19DXA4T15i2k1h1VYMggH1tw/formResponse';

            // ๐ข 2. ูุนุฑููุงุช ุงูุฏุฎูู (Entry IDs) ุงููุณุชุฎุฑุฌุฉ.
            // entry.2084437554: ุงุณู ุงูุทูู
            // entry.1545096345: ุฑูู ุงููุงุชู
            // entry.635361516: ุงุณู ุงูุทุจูุจ
            // entry.612226324: ุงูุชุงุฑูุฎ ุงููุทููุจ
            // entry.1813748108: ุฑูู ุงูููู
            const FORM_FIELDS = {
                childName: 'entry.2084437554',
                phone: 'entry.1545096345',
                doctorName: 'entry.635361516',
                date: 'entry.612226324',
                fileNumber: 'entry.1813748108'
            };

            // ุฃูุงู ุงูุฃุณุจูุน (ุจุดูู ุฑููู: 0=ุงูุฃุญุฏุ 1=ุงูุงุซููู... 6=ุงูุณุจุช)
            const DAYS_OF_WEEK = ['ุงูุฃุญุฏ', 'ุงูุงุซููู', 'ุงูุซูุงุซุงุก', 'ุงูุฃุฑุจุนุงุก', 'ุงูุฎููุณ', 'ุงูุฌูุนุฉ', 'ุงูุณุจุช'];

            // ููุงุนุฏ ุงูุญุถูุฑ: ุฃูุงู ุงูุบูุงุจ (ุงูุฃุฑูุงู ุงูุชู ุชูุซู ุฃูุงู ุงูุฃุณุจูุน)
            const DOCTOR_ABSENCE = {
                'ุฏูุชูุฑ ุนุจุฏ ุงูุบูุงุฑ ุทู': [0, 4], // ุงูุฃุญุฏ (0) ูุงูุฎููุณ (4) ุบูุงุจ. ุงูุญุถูุฑ: 1, 2, 3, 5, 6
                'ุฏูุชูุฑ ุนูุงุก ุงูุณุจุงุนู': [5],    // ุงูุฌูุนุฉ (5) ุบูุงุจ. ุงูุญุถูุฑ: 0, 1, 2, 3, 4, 6
                'ุฏูุชูุฑ ูุญูุฏ ูุณูู': [5],        // ุงูุฌูุนุฉ (5) ุบูุงุจ. ุงูุญุถูุฑ: 0, 1, 2, 3, 4, 6
            };

            /**
             * ุฏุงูุฉ ููุชุญูู ูู ุชูุงูุฑ ุงูุทุจูุจ ูู ุงูุชุงุฑูุฎ ุงููุญุฏุฏ.
             * ูุชุญุฏูุซ ุฑุณุงูุฉ ุงูุชุญุฐูุฑ ูุฒุฑ ุงูุฅุฑุณุงู.
             */
            const validateBooking = () => {
                const selectedDate = dateInput.value;
                const selectedDoctor = doctorNameInput.value;

                // 1. ุชุญูู ูุจุฏุฆู ูู ููุก ุงูุญููู ุงููุทููุจุฉ ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุฌุจ ุชูููู ุงูุฒุฑ
                const isFormValid = form.checkValidity();

                if (!selectedDoctor || !selectedDate) {
                    // ุฅุฐุง ูุงู ุฃุญุฏ ุงูุญูููู ุงููุทููุจูู ูุงุฑุบุงูุ ุนุทู ุงูุฒุฑ ูุฃุฎูู ุงูุชุญุฐูุฑ
                    submitBtn.disabled = !isFormValid;
                    dateWarning.classList.add('hidden');
                    return isFormValid; 
                }

                // 2. ุงูุชุญูู ูู ุชุงุฑูุฎ ูุงุถู
                if (selectedDate < today) {
                    submitBtn.disabled = true;
                    warningText.innerHTML = `ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ <strong>(${selectedDate})</strong> ูู ุชุงุฑูุฎ ูุงุถู. ูุฑุฌู ุงุฎุชูุงุฑ ุชุงุฑูุฎ ูุณุชูุจูู.`;
                    dateWarning.classList.remove('hidden');
                    return false;
                }

                const dateObj = new Date(selectedDate + 'T00:00:00'); // ุฅุถุงูุฉ ุงูุชูููุช ูุชุฌูุจ ูุดุงูู ุงูููุทูุฉ ุงูุฒูููุฉ
                const dayIndex = dateObj.getDay(); // 0=ุงูุฃุญุฏ, 1=ุงูุงุซููู, ..., 6=ุงูุณุจุช
                
                const absenceDays = DOCTOR_ABSENCE[selectedDoctor];

                if (absenceDays && absenceDays.includes(dayIndex)) {
                    // ุงูุชุงุฑูุฎ ุบูุฑ ูุชุงุญ. ูุฌุจ ุฅุธูุงุฑ ุฑุณุงูุฉ ุงูุชุญุฐูุฑ ูุชุญุฏูุฏ ุงูุฃูุงู ุงููุชุงุญุฉ.
                    submitBtn.disabled = true;
                    
                    // ุญุณุงุจ ุฃูุงู ุงูุญุถูุฑ ุงููุชุงุญุฉ ููุต
                    const availableDaysIndices = [0, 1, 2, 3, 4, 5, 6].filter(day => !absenceDays.includes(day));
                    const availableDaysNames = availableDaysIndices.map(index => DAYS_OF_WEEK[index]);
                    
                    const availabilityMessage = availableDaysNames.length > 0
                        ? availableDaysNames.join('ุ ')
                        : 'ูุง ููุฌุฏ ููุงุนูุฏ ูุชุงุญุฉ ูุฐุง ุงูุฃุณุจูุน.';

                    warningText.innerHTML = `ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ **(${DAYS_OF_WEEK[dayIndex]})** ุบูุฑ ูุชุงุญ ููุฏูุชูุฑ <strong>${selectedDoctor}</strong>. ูุฑุฌู ุงุฎุชูุงุฑ ููู ุขุฎุฑ.
                    <br>ููุงุนูุฏ ุญุถูุฑู ุงููุชุงุญุฉ ูู: <strong>${availabilityMessage}</strong>.`;
                    dateWarning.classList.remove('hidden');
                    
                    return false;
                } else {
                    // ุงูุชุงุฑูุฎ ูุชุงุญ
                    submitBtn.disabled = !isFormValid; // ูุชู ุชููููู ููุท ุฅุฐุง ูุงู ุงููููุฐุฌ ุจุงููุงูู ุตุงูุญูุง
                    dateWarning.classList.add('hidden');
                    return isFormValid;
                }
            };

            // ุฑุจุท ุงูุชุญูู ุจุชุบููุฑ ุงูุชุงุฑูุฎ ูุงุฎุชูุงุฑ ุงูุทุจูุจ ูุจุงูู ุญููู ุงูุฅุฏุฎุงู ุงููุทููุจุฉ
            dateInput.addEventListener('change', validateBooking);
            doctorNameInput.addEventListener('change', validateBooking);
            document.getElementById('childName').addEventListener('input', validateBooking);
            document.getElementById('phone').addEventListener('input', validateBooking);
            
            // ุชููุฆุฉ ุญุงูุฉ ุงูุฒุฑ ุนูุฏ ุงูุชุญููู
            validateBooking();


            // ุฏุงูุฉ ูุนุฑุถ ุฑุณุงูุฉ ุงูุญุงูุฉ (ุชุณุชุฎุฏู ุงูุขู ููุฎุทุฃ ููุท)
            const showStatusMessage = (message, type) => {
                statusMessage.textContent = message;
                statusMessage.classList.remove('hidden', 'bg-red-100', 'text-red-800');
                
                if (type === 'error') {
                    statusMessage.classList.add('bg-red-100', 'text-red-800');
                } else {
                    statusMessage.classList.add('hidden'); // ูุฌุจ ุฃูุง ุชุณุชุฎุฏู ูุฑุณุงุฆู ุงููุฌุงุญ
                }
            };

            // ** ุงูุฏูุงู ุงููุชุนููุฉ ุจุงูู Modal **

            // ุฏุงูุฉ ูุนุฑุถ ุงููุงูุฐุฉ ุงูููุจุซูุฉ ูููุฌุงุญ
            const showSuccessModal = (date, doctor) => {
                const dateParts = date.split('-'); // YYYY-MM-DD
                const formattedDate = `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`; // DD/MM/YYYY

                bookedDetails.innerHTML = `ุงูุทุจูุจ: <span class="text-blue-600">${doctor}</span> <br>ุงูุชุงุฑูุฎ: <span class="text-blue-600">${formattedDate}</span>`;

                // ุฅุธูุงุฑ ุงูููุฏุงู ูุน ุชุฃุซูุฑุงุช ุงูุญุฑูุฉ
                successModal.classList.remove('hidden');
                setTimeout(() => {
                    modalContent.classList.remove('scale-95', 'opacity-0');
                    modalContent.classList.add('scale-100', 'opacity-100');
                }, 10);
            };

            // ุฏุงูุฉ ูุฅุฎูุงุก ุงููุงูุฐุฉ ุงูููุจุซูุฉ ูููุฌุงุญ (ุชุณุชุฎุฏู ููุท ุนูุฏ ุงูููุฑ ุนูู ุงูุฎูููุฉ)
            const hideSuccessModal = () => {
                modalContent.classList.remove('scale-100', 'opacity-100');
                modalContent.classList.add('scale-95', 'opacity-0');
                
                setTimeout(() => {
                    successModal.classList.add('hidden');
                }, 300); // ุฅุฎูุงุก ุจุนุฏ ุงูุชูุงุก ุงูุญุฑูุฉ
            };

            // ** ูุนุงูุฌุงุช ุฃุญุฏุงุซ ุงูู Modal **
            // ุชู ุชุนุฏูู ูุนุงูุฌ ุญุฏุซ ุฒุฑ "ุญุณูุงูุ ูููุช" ููููู ุจุงูุชุญููู ุฅูู ุงูุฑุงุจุท ุงููุทููุจ ุจุนุฏ ุฅุบูุงู ุงููุงูุฐุฉ ุงูููุจุซูุฉ
            closeModalBtn.addEventListener('click', () => {
                // ุจุฏุก ุฅุฎูุงุก ุงููุงูุฐุฉ ุงูููุจุซูุฉ ูุน ุชุฃุซูุฑ ุงูุญุฑูุฉ
                modalContent.classList.remove('scale-100', 'opacity-100');
                modalContent.classList.add('scale-95', 'opacity-0');
                
                // ุงูุชุญููู ุจุนุฏ ุงูุชูุงุก ูุฏุฉ ุงูุญุฑูุฉ (300 ูููู ุซุงููุฉ)
                setTimeout(() => {
                    // ุฅุฎูุงุก ุงูู modal ูุฅุฌุฑุงุก ุงุญุชูุงุทู ูุจู ุงูุชุญููู
                    successModal.classList.add('hidden'); 
                    window.location.href = 'https://tabarakmariouteya.site/'; // ุงูุชูุฌูู ุฅูู ุงูุฑุงุจุท ุงูุฌุฏูุฏ
                }, 300);
            });

            successModal.addEventListener('click', (e) => {
                // ุฅุบูุงู ุนูุฏ ุงูููุฑ ุนูู ุงูุฎูููุฉ (Backdrop) - ูุง ูุชู ุงูุชุญููู
                if (e.target === successModal) {
                    hideSuccessModal();
                }
            });


            // ุฏุงูุฉ ูุฅุฑุณุงู ุงูุจูุงูุงุช
            const submitFormToGoogleForms = async (formData) => {
                const data = new URLSearchParams();
                
                const childName = formData.get('childName');
                const date = formData.get('date');
                const doctor = formData.get('doctorName');
                
                // ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ูุนุฑููุงุช ุงูุญููู (Entry IDs)
                data.append(FORM_FIELDS.childName, childName);
                data.append(FORM_FIELDS.phone, formData.get('phone'));
                data.append(FORM_FIELDS.doctorName, doctor);
                data.append(FORM_FIELDS.date, date);
                data.append(FORM_FIELDS.fileNumber, formData.get('fileNumber')); 
                
                try {
                    // ุฅุฑุณุงู ุงูุจูุงูุงุช
                    const response = await fetch(GOOGLE_FORM_URL, {
                        method: 'POST',
                        body: data,
                        mode: 'no-cors', 
                    });

                    // ูู ูุถุน 'no-cors'ุ ููุชุฑุถ ุงููุฌุงุญ ุฅุฐุง ูู ูุญุฏุซ ุฎุทุฃ ูู ุงูุดุจูุฉ.
                    showSuccessModal(date, doctor); // ุนุฑุถ ุงููุงูุฐุฉ ุงูููุจุซูุฉ ูููุฌุงุญ
                    form.reset(); // ุชูุฑูุบ ุงููููุฐุฌ ุจุนุฏ ุงููุฌุงุญ
                    validateBooking(); // ุฅุนุงุฏุฉ ุงูุชุญูู ูุถุจุท ุญุงูุฉ ุงูุฒุฑ ุจุนุฏ ุงูุชูุฑูุบ

                } catch (error) {
                    console.error('Submission Error:', error);
                    showStatusMessage('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุญุฌุฒ. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู ุฃู ุงูุชุฃูุฏ ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช.', 'error');
                } finally {
                    // ุฅุฑุฌุงุน ุญุงูุฉ ุงูุฒุฑ ุจุบุถ ุงููุธุฑ ุนู ุงููุชูุฌุฉ
                    submitBtn.disabled = !form.checkValidity();
                    buttonText.textContent = 'ุชุฃููุฏ ูุญุฌุฒ ุงูููุนุฏ';
                }
            };

            // ูุนุงูุฌ ุญุฏุซ ุฅุฑุณุงู ุงููููุฐุฌ
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // ุชุฃูุฏ ูู ุฃู ุงูุชุญูู ุงูุฃุฎูุฑ ุตุญูุญ ูุจู ุงูุฅุฑุณุงู
                if (!validateBooking()) {
                    return;
                }

                // ุฅุฎูุงุก ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุณุงุจูุฉ
                statusMessage.classList.add('hidden');

                // ููุน ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ ูุชุนุทูู ุงูุฒุฑ ูุคูุชุงู
                submitBtn.disabled = true;
                buttonText.textContent = 'ุฌุงุฑู ุงูุฅุฑุณุงู...';
                
                const formData = new FormData(form);
                submitFormToGoogleForms(formData);
            });
            
        });
    </script>
</body>
</html>
